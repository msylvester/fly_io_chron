<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 500">
  <defs>
    <linearGradient id="flyGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#8B5CF6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#6366F1;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="cronGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#10B981;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#059669;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="mailGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#F59E0B;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#D97706;stop-opacity:1" />
    </linearGradient>
  </defs>

  <!-- Background -->
  <rect width="800" height="500" fill="#0F172A"/>

  <!-- Title -->
  <text x="400" y="40" text-anchor="middle" fill="#E2E8F0" font-family="Arial, sans-serif" font-size="24" font-weight="bold">Fly.io Cron Email Microservice</text>

  <!-- Fly.io Container -->
  <rect x="50" y="70" width="700" height="400" rx="15" fill="none" stroke="#475569" stroke-width="2" stroke-dasharray="8,4"/>
  <text x="70" y="95" fill="#94A3B8" font-family="Arial, sans-serif" font-size="14">Fly.io Container (sjc region)</text>

  <!-- Express Server Box -->
  <rect x="80" y="120" width="280" height="180" rx="10" fill="url(#flyGrad)" opacity="0.9"/>
  <text x="220" y="150" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="16" font-weight="bold">Express Server :3000</text>

  <!-- Endpoints -->
  <rect x="100" y="170" width="240" height="30" rx="5" fill="#1E293B"/>
  <text x="220" y="190" text-anchor="middle" fill="#A5B4FC" font-family="monospace" font-size="12">GET /health</text>

  <rect x="100" y="210" width="240" height="30" rx="5" fill="#1E293B"/>
  <text x="220" y="230" text-anchor="middle" fill="#A5B4FC" font-family="monospace" font-size="12">POST /send</text>

  <rect x="100" y="250" width="240" height="30" rx="5" fill="#1E293B"/>
  <text x="220" y="270" text-anchor="middle" fill="#A5B4FC" font-family="monospace" font-size="12">GET /</text>

  <!-- Cron Job Box -->
  <rect x="420" y="120" width="300" height="120" rx="10" fill="url(#cronGrad)" opacity="0.9"/>
  <text x="570" y="150" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="16" font-weight="bold">node-cron Scheduler</text>
  <text x="570" y="180" text-anchor="middle" fill="#D1FAE5" font-family="monospace" font-size="14">*/10 * * * * *</text>
  <text x="570" y="205" text-anchor="middle" fill="#A7F3D0" font-family="Arial, sans-serif" font-size="12">(every 10 seconds)</text>
  <text x="570" y="225" text-anchor="middle" fill="#D1FAE5" font-family="Arial, sans-serif" font-size="11">generates random email</text>

  <!-- Arrow from Cron to Express -->
  <path d="M420 180 L370 220" stroke="#10B981" stroke-width="3" fill="none" marker-end="url(#arrowGreen)"/>
  <defs>
    <marker id="arrowGreen" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <path d="M0,0 L0,6 L9,3 z" fill="#10B981"/>
    </marker>
  </defs>
  <text x="380" y="185" fill="#10B981" font-family="Arial, sans-serif" font-size="10">HTTP POST</text>

  <!-- Postmark Box -->
  <rect x="420" y="280" width="300" height="100" rx="10" fill="url(#mailGrad)" opacity="0.9"/>
  <text x="570" y="315" text-anchor="middle" fill="white" font-family="Arial, sans-serif" font-size="16" font-weight="bold">Postmark API</text>
  <text x="570" y="345" text-anchor="middle" fill="#FEF3C7" font-family="Arial, sans-serif" font-size="12">SendMail Service</text>
  <text x="570" y="365" text-anchor="middle" fill="#FDE68A" font-family="Arial, sans-serif" font-size="11">delivers email to recipient</text>

  <!-- Arrow from Express to Postmark -->
  <path d="M360 250 L420 310" stroke="#F59E0B" stroke-width="3" fill="none" marker-end="url(#arrowYellow)"/>
  <defs>
    <marker id="arrowYellow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <path d="M0,0 L0,6 L9,3 z" fill="#F59E0B"/>
    </marker>
  </defs>

  <!-- Config callout -->
  <rect x="80" y="330" width="280" height="120" rx="8" fill="#1E293B" stroke="#475569"/>
  <text x="100" y="355" fill="#94A3B8" font-family="Arial, sans-serif" font-size="12" font-weight="bold">fly.toml config:</text>
  <text x="100" y="380" fill="#67E8F9" font-family="monospace" font-size="11">auto_stop_machines = 'off'</text>
  <text x="100" y="400" fill="#67E8F9" font-family="monospace" font-size="11">min_machines_running = 1</text>
  <text x="100" y="420" fill="#67E8F9" font-family="monospace" font-size="11">memory = '1gb'</text>
  <text x="100" y="440" fill="#94A3B8" font-family="Arial, sans-serif" font-size="10">^ keeps cron job alive 24/7</text>
</svg>
